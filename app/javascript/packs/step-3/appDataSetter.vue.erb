<template></template>

<script>
import { mapMutations } from 'vuex'
import * as types from './store/mutationTypes'
import ErrorService from '../common/errorService'

export default {
  name: 'app-data-setter',
  props: [
    'diagnosisId',
    'visitId'
  ],
  created: function () {
    this.setDiagnosisId(this.diagnosisId)
    this.setVisitId(this.visitId)

    this.$store.dispatch('getInitialData').catch(ErrorService.report)
  },
  methods: {
    ...mapMutations({
      setDiagnosisId: types.DIAGNOSIS_ID,
      setVisitId: types.VISIT_ID
    })
  }
}
</script>

<style lang="sass">
</style>
